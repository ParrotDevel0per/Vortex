<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Home</title>
    <script src="/static/playerjs.js"></script>
    <link rel="stylesheet" href="/static/css/animate.min.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicon/favicon-16x16.png">
    <!-- Primary Meta Tags -->
    <meta name="title" content="The Pirate Player">
    <meta name="description" content="Watch Movies / TV Shows from many stable sources.">
    <meta name="theme-color" content="#FF0000">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="The Pirate Player">
    <meta property="og:description" content="Watch Movies / TV Shows from many stable sources.">
    <meta property="og:image" content="https://i.ibb.co/N6SWCsn/5.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="The Pirate Player">
    <meta property="twitter:description" content="Watch Movies / TV Shows from many stable sources.">
    <meta property="twitter:image" content="https://i.ibb.co/N6SWCsn/5.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <style>
        @import url(/static/css/colors.css);
        @font-face {
            font-family: 'Chomsky';
            src: url('/static/fonts/Chomsky.woff') format('woff');
        }
        html, body {
            margin:0px;
            height:100%;
            width:100%;
            background-color: var(--bg);
            text-align: center;
        }
        .btn {
            margin:0 auto;
            display:block;
            width: 98%!important;
            background-color: transparent;
            color: white;
            border: 3px solid var(--sec);
            border-radius: 20px;
            text-align: center;
            font-size: 2em;
            margin-bottom: 10px;
            padding-top: 3px;
            padding-bottom: 3px;
            text-decoration: none;
        }
        .btn:hover {
            background-color: var(--sec);
            color: var(--bg);
            width: 98%!important;
        }
        h1 {
            color: white;
            text-align: center;
            font-size: 4em;
            margin-bottom: 10px;
            margin-top: 0px;
            font-family: 'Chomsky';
        }
        footer {
            position: absolute;
            right: 0;
            bottom: 0;
            left: 0;
            padding: 1rem;
            background-color: var(--bg);
            text-align: center;
        }
        footer > p {
            color: white;
            font-size: 1.5em;
        } 
    </style>
</head>
<body>
    <h1>The Pirate Player</h1>
    <a href="/search" class="animate__animated animate__fadeIn btn">Search</a>
    <a href="/favorites" class="animate__animated animate__fadeIn btn">Favorites</a>
    <a href="/playlist" class="animate__animated animate__fadeIn btn">Playlist</a>
    <a href="/top250movies" class="animate__animated animate__fadeIn btn">IMDB Top 250 Movies</a>
    <a href="/bottom100movies" class="animate__animated animate__fadeIn btn">IMDB Bottom 100 Movies</a>
    <a href="/mergeShowM3Us" class="animate__animated animate__fadeIn btn">Merge Show M3U's</a>
    <footer>
        <p class="animate__animated animate__tada">Loading ...</p>
    </footer>
    <script>
        var isMobile = navigator.userAgent.toLowerCase().match(/mobile/i);
        let infoText = document.getElementsByTagName('footer')[0].getElementsByTagName('p')[0];
        setInterval(function() {
            let xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function() {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    let response = JSON.parse(xhr.responseText);
                    const version = response["version"];
                    const systemRAMUsage = response["systemRAMUsage"];
                    const pythonCPUUsage = response["pythonCPUUsage"];
                    const cacheSize = response["cache"];
                    const infoString = `Version ${version} | Python CPU Usage: ${pythonCPUUsage} | System Memory Usage: ${systemRAMUsage} | Cache Size: ${cacheSize}`;
                    infoText.innerHTML = infoString;
                }
            }
            if (!isMobile) {
                xhr.open('GET', '/api/sysinfo', true);
                xhr.send();
            } else {
                document.getElementsByTagName('footer')[0].style.display = 'none';
            }
        }, 1000);
    </script>
</body>
</html>
